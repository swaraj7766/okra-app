(this["webpackJsonpatop-okra-frontend"]=this["webpackJsonpatop-okra-frontend"]||[]).push([[0],{331:function(e,t,n){},435:function(e,t){},437:function(e,t){},451:function(e,t){},453:function(e,t){},481:function(e,t){},483:function(e,t){},484:function(e,t){},489:function(e,t){},491:function(e,t){},497:function(e,t){},499:function(e,t){},518:function(e,t){},530:function(e,t){},533:function(e,t){},550:function(e,t,n){"use strict";n.r(t);var r,s=n(0),c=n(29),a=n.n(c),i=n(57),o=(n(331),n(23)),l=n(35),j=n(571),u=n(572),b=n(56),d=n(118),h=n(565),p=n(316),O=n(556),x=n(210),m=n(127),f=n.p+"static/media/logo.250415dd.svg",g=n(569),y=n(570),v=n(6),w=[{name:"Dashboard",icon:Object(v.jsx)(g.a,{}),routes:[{path:"/",name:"Overview"},{path:"/switch",name:"Switch"},{path:"/cwr",name:"CWR"}]},{name:"Deployment",icon:Object(v.jsx)(y.a,{}),routes:[{path:"/ztp",name:"ZTP"},{path:"/sitemanagement",name:"Site Mangement"}]}],S=n(72),k=n(116),I=n(212),F=n.n(I),E=n(299),C=n(136),M=n(300),T=n.n(M),P=Object(C.b)("userAuth/login",function(){var e=Object(E.a)(F.a.mark((function e(t,n){var r,s,c,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,s=t.password,e.prev=1,e.next=4,T()({method:"POST",url:"/api/token",headers:{accept:"application/json","Content-Type":"application/json"},data:{name:r,password:s}});case 4:return c=e.sent,e.next=7,c.data;case 7:if(a=e.sent,200!==c.status||0!==c.data.code){e.next=14;break}return sessionStorage.setItem("rmstoken",a.payload.token.token),sessionStorage.setItem("rmsuser",a.payload.user.name),e.abrupt("return",a.payload.user);case 14:return e.abrupt("return",n.rejectWithValue(a.payload.reason));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(1),console.log("Error",e.t0.response.statusText),e.abrupt("return",n.rejectWithValue(e.t0.response.statusText));case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}()),W=Object(C.c)({name:"userAuth",initialState:{name:"",isFetching:!1,isSuccess:!1,isError:!1,errorMessage:""},reducers:{clearState:function(e){return e.isError=!1,e.isSuccess=!1,e.isFetching=!1,e},setUser:function(e,t){var n=t.payload;return e.name=n,e},logoutUser:function(e){return e.name="",e.isError=!1,e.isSuccess=!1,e.isFetching=!1,e.errorMessage="",e}},extraReducers:(r={},Object(k.a)(r,P.fulfilled,(function(e,t){var n=t.payload;return e.name=null===n||void 0===n?void 0:n.name,e.isFetching=!1,e.isSuccess=!0,e})),Object(k.a)(r,P.rejected,(function(e,t){var n=t.payload;e.isFetching=!1,e.isError=!0,e.errorMessage=n})),Object(k.a)(r,P.pending,(function(e){e.isFetching=!0})),r)}),z=W.actions,A=z.clearState,U=(z.setUser,z.logoutUser,function(e){return e.userAuth}),D=function(e){var t=Object(o.g)(),n=Object(o.h)(),r=(Object(S.b)(),Object(S.c)(U).name),c=Object(s.useState)(t.pathname),a=Object(l.a)(c,2),g=a[0],y=a[1],k=Object(v.jsx)(b.a,{children:Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(d.a,{type:"primary",block:!0,onClick:function(){n("/login",{replace:!0})},children:"Logout"})},"0")});return Object(v.jsx)(x.a,{layout:"mix",title:"Atop OKRA",logo:f,fixSiderbar:!0,fixedHeader:!0,location:{pathname:g},route:{routes:w},navTheme:"light",rightContentRender:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{count:11,size:"small",offset:[-1,3],children:Object(v.jsx)(p.a,{shape:"circle",icon:Object(v.jsx)(j.a,{}),style:{background:"inherit"}})}),Object(v.jsx)(O.a,{overlay:k,trigger:["click"],children:Object(v.jsx)(d.a,{type:"text",onClick:function(e){return e.preventDefault()},icon:Object(v.jsx)(u.a,{}),style:{color:"#fff"},children:r})})]})},menuItemRender:function(e,t){return Object(v.jsx)(i.b,{to:e.path||"deploy",onClick:function(){return y(e.path||"deploy")},children:t})},children:Object(v.jsx)(m.a,{header:{title:"",breadcrumb:{}},children:Object(v.jsx)(o.b,{})})})},N=function(){return Object(v.jsx)("div",{children:"CWR Works !"})},R=n(119),B=n(61),L=n(562),Z=n(567),J=n(573),q=n(321),H=n(322),K=L.a.Title,V={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",height:"203px"},_=function(e){return{fontSize:"70px",color:"var(--ant-".concat(e,"-color)")}},G=function(){return Object(v.jsx)(Z.a,{title:"Alarm Status",bordered:!1,children:Object(v.jsxs)(R.a,{gutter:16,align:"middle",children:[Object(v.jsxs)(B.a,{span:8,style:V,children:[Object(v.jsx)(J.a,{style:_("warning")}),Object(v.jsx)(K,{level:4,children:"Warning"}),Object(v.jsx)(K,{level:5,children:"5"})]}),Object(v.jsxs)(B.a,{span:8,style:V,children:[Object(v.jsx)(q.a,{style:_("info")}),Object(v.jsx)(K,{level:4,children:"Information"}),Object(v.jsx)(K,{level:5,children:"5"})]}),Object(v.jsxs)(B.a,{span:8,style:V,children:[Object(v.jsx)(H.a,{style:_("error")}),Object(v.jsx)(K,{level:4,children:"Critical"}),Object(v.jsx)(K,{level:5,children:"5"})]})]})})},X=n(305),Y=n(311),Q=n.n(Y),$=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){r({series:[27,25,18],options:{chart:{height:200,type:"donut"},labels:["Warning","Offline","Unknown"],colors:["#5B8FF9","#5AD8A6","#5D7092"],dataLabels:{enabled:!0,formatter:function(e,t){return t.w.globals.series[t.seriesIndex]}},legend:{formatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex]}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}],plotOptions:{pie:{donut:{labels:{show:!0,total:{showAlways:!0,show:!0},value:{fontWeight:600,fontSize:"32px"}}}}}}})}),[]),Object(v.jsx)(Z.a,{title:"Device Status",bordered:!1,children:Object(v.jsx)("div",{id:"chart",style:{position:"relative"},children:null===n?Object(v.jsx)(X.a,{}):Object(v.jsx)(Q.a,{options:n.options,series:n.series,type:"donut",height:200})})})},ee=n(557),te=n(558),ne=n(574),re=n(559),se=n(560),ce=n(51),ae=n.n(ce),ie=n(312),oe=n(313),le=n(314),je=function(){return Object(s.useEffect)((function(){delete ae.a.Icon.Default.prototype._getIconUrl,ae.a.Icon.Default.mergeOptions({iconRetinaUrl:le.a,iconUrl:ie.a,shadowUrl:oe.a})}),[]),Object(v.jsx)(Z.a,{children:Object(v.jsx)(ee.a,{center:[13.005321507296706,77.66291562524158],zoom:13,scrollWheelZoom:!0,children:Object(v.jsxs)(te.a,{position:"topright",children:[Object(v.jsx)(te.a.BaseLayer,{checked:!0,name:"Mapbox streets map",children:Object(v.jsx)(ne.a,{attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1Ijoic3dhcmFqYXRvcCIsImEiOiJja3d5ZjlicjcwbjE0Mm9sYzg4cWJiMXp1In0.0m5Dwq8GOPEgw4yPHcFuBw"})}),Object(v.jsx)(te.a.BaseLayer,{name:"OpenStreetMap.Mapnik",children:Object(v.jsx)(ne.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:18})}),Object(v.jsx)(re.a,{position:[13.005321507296706,77.66291562524158],children:Object(v.jsxs)(se.a,{children:["Atech Solutions Private Limited ",Object(v.jsx)("br",{})," No. 3M, 217, East of NGEF Layout, Kasturi Nagar, Bengaluru, Karnataka 560043."]})})]})})})},ue=function(){return Object(v.jsxs)(R.a,{gutter:[16,16],children:[Object(v.jsx)(B.a,{span:12,children:Object(v.jsx)($,{})}),Object(v.jsx)(B.a,{span:12,children:Object(v.jsx)(G,{})}),Object(v.jsx)(B.a,{span:24,children:Object(v.jsx)(je,{})})]})},be=function(){return Object(v.jsx)("div",{children:"Switch Page Works !"})},de=function(){return Object(v.jsx)("div",{children:"Site management Works !"})},he=function(){return Object(v.jsx)("div",{children:"ZTP Page Works !"})},pe=n(563),Oe=n(317),xe=n(568),me=n(561),fe=n(564),ge=n(566),ye=n(575),ve=n.p+"static/media/Logo.d157142d.png",we=L.a.Text,Se=function(e){return Object(v.jsxs)("div",{className:"formWrapper",children:[Object(v.jsxs)(xe.b,{direction:"vertical",align:"center",size:0,children:[Object(v.jsx)(me.a,{height:87,src:ve,preview:!1}),Object(v.jsx)(we,{type:"secondary",children:"Simple Solutions for Complex Connections"})]}),Object(v.jsxs)(pe.a,{name:"normal_login",className:"loginForm",size:"large",autoComplete:"off",onFinish:e.onFinish,form:e.form,children:[Object(v.jsx)(pe.a.Item,{name:"name",rules:[{required:!0,message:"Please input your Username!"}],children:Object(v.jsx)(fe.a,{prefix:Object(v.jsx)(u.a,{}),placeholder:"Username"})}),Object(v.jsx)(pe.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(v.jsx)(fe.a,{prefix:Object(v.jsx)(ye.a,{}),type:"password",placeholder:"Password"})}),Object(v.jsxs)(pe.a.Item,{children:[Object(v.jsx)(pe.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(v.jsx)(ge.a,{children:"Remember me"})}),Object(v.jsx)(i.b,{className:"login-form-forgot",to:"/login",children:"Forgot your password?"})]}),Object(v.jsx)(pe.a.Item,{children:Object(v.jsx)(d.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:e.loading,children:"Sign in"})})]})]})},ke=L.a.Text,Ie=function(){var e=Object(o.h)(),t=pe.a.useForm(),n=Object(l.a)(t,1)[0],r=Object(S.b)(),c=Object(S.c)(U),a=c.isFetching,i=c.isSuccess,j=c.isError,u=c.errorMessage;return Object(s.useEffect)((function(){return sessionStorage.removeItem("rmstoken"),sessionStorage.removeItem("rmsuser"),function(){r(A())}}),[]),Object(s.useEffect)((function(){j&&(Oe.a.error({message:u}),n.resetFields(),r(A())),i&&(r(A()),Oe.a.success({message:"Successfully loggedin !"}),n.resetFields(),e("/"))}),[j,i]),Object(v.jsxs)("div",{className:"container-login",children:[Object(v.jsx)(Se,{onFinish:function(t){e("/")},form:n,loading:a}),Object(v.jsxs)("div",{className:"loginFooter",children:[Object(v.jsx)(ke,{type:"secondary",children:"Copyright \xa92021 Produced by Atop Technologies"}),Object(v.jsx)(ke,{type:"secondary",children:"Version 1.0.0"})]})]})},Fe=n(318),Ee=function(){var e=Object(o.h)();return Object(v.jsx)(Fe.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(v.jsx)(d.a,{type:"primary",onClick:function(){return e("/")},children:"Back Home"})})};n(431);function Ce(e){var t=e.children;return Me()?t:Object(v.jsx)(o.a,{to:"/login",replace:!0})}var Me=function(){return!0},Te=function(){return Object(v.jsxs)(o.e,{children:[Object(v.jsxs)(o.c,{element:Object(v.jsx)(D,{}),children:[Object(v.jsx)(o.c,{path:"/",element:Object(v.jsx)(Ce,{children:Object(v.jsx)(ue,{})})}),Object(v.jsx)(o.c,{path:"/switch",element:Object(v.jsx)(Ce,{children:Object(v.jsx)(be,{})})}),Object(v.jsx)(o.c,{path:"/cwr",element:Object(v.jsx)(Ce,{children:Object(v.jsx)(N,{})})}),Object(v.jsx)(o.c,{path:"/ztp",element:Object(v.jsx)(Ce,{children:Object(v.jsx)(he,{})})}),Object(v.jsx)(o.c,{path:"/sitemanagement",element:Object(v.jsx)(Ce,{children:Object(v.jsx)(de,{})})})]}),Object(v.jsx)(o.c,{path:"/login",element:Object(v.jsx)(Ie,{})}),Object(v.jsx)(o.c,{path:"*",element:Object(v.jsx)(Ee,{})})]})};var Pe=function(){return Object(v.jsx)(Te,{})},We=Object(C.a)({reducer:{userAuth:W.reducer}});a.a.render(Object(v.jsx)(S.a,{store:We,children:Object(v.jsx)(i.a,{children:Object(v.jsx)(Pe,{})})}),document.getElementById("root"))}},[[550,1,2]]]);
//# sourceMappingURL=main.2be23e3c.chunk.js.map